library("raster", lib.loc="~/R/win-library/3.2")
library("rasterVis", lib.loc="~/R/win-library/3.2")
library("maps", lib.loc="~/R/win-library/3.2")
library("maptools", lib.loc="~/R/win-library/3.2")
library("rgdal", lib.loc="~/R/win-library/3.2")
?stack
b <- brick(system.file("external/rlogo.grd", package="raster"))
layerStats(b, 'pearson')
library("raster", lib.loc="~/R/win-library/3.2")
b <- brick(system.file("external/rlogo.grd", package="raster"))
layerStats(b, 'pearson')
library("raster", lib.loc="~/R/win-library/3.2")
library("rasterVis", lib.loc="~/R/win-library/3.2")
library("maps", lib.loc="~/R/win-library/3.2")
library("maptools", lib.loc="~/R/win-library/3.2")
library("rgdal", lib.loc="~/R/win-library/3.2")
bc <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_canopy.asc")
bc<-raster (bc)
plot(bc, breaks= c(0.5,1.5,2.5,3.5,4.5,5.5,6.5,7.5,256))
bb <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_basal.asc")
bb<-raster (bb)
plot(bb)
bs <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_severity.asc")
bs<-raster (bs)
plot(bs)
summary(bs)
burn <-brick(bc, bs, bb)
plot (burn)
layerStats(burn, "pearson",na.rm=TRUE)
topo <- readGDAL("C:/Users/usuario/Bats_California/layers/plumastopo.asc")
topo<-raster (topo)
plot(topo)
pairs(burn)
library("rasterVis", lib.loc="~/R/win-library/3.2")
library("raster", lib.loc="~/R/win-library/3.2")
histogram(bc)
histogram(bs)
histogram(bb)
histogram(bc)
histogram(bs)
histogram(bb)
summary(bb)
summary(bs)
summary(bb)
DF <- as.data.frame(burn)
summary(burn) # to make sure you don't have any NA's
E <- kmeans(DF, 4, iter.max = 100, nstart = 10)
r <- raster(ncol=10, nrow=10)
r[] <- round(runif(ncell(r)) * 10)
df <- data.frame(id=2:8, v=c(10,10,11,11,12:14))
plot(r)
View(df)
histogram(r)
x <- subs(r, df)
plot(x)
summary(x)
summary(r)
x2 <- subs(r, df, subsWithNA=FALSE)
summary(x2)
df <- data.frame(id=c(NA,255), v=c(0,8))
bb2 <- subs(bb, df,subswithNA=FALSE)
plot(bb)
plot(bb2)
histogram(bb2)
histogram(log(bb2))
summary(bb2)
sum(bb2[bb2==1])
sum(bb2[bb2==0])
plot(bb2, col=topo.colors)
df <- data.frame(id=c(NA,255), v=c(0.5,8))
bb2 <- subs(bb, df,subswithNA=FALSE)
plot(bb2, col=topo.colors)
plot(bb2)
histogram(bb)
plot(bb)
summary
summary(bb)
bb
80500-72282
summary(bb)
hist(bb)
histogram(bb)
hist(bb)
histogram(bb)
histogram(bb2)
histogram(bb2, ylim=c(0,4))
histogram(bb2)
histogram(bb2, ylim=c(0,1))
df <- data.frame(id=c(NA,255), v=c(0.5,8))
bb2 <- subs(bb, df,subswithNA=FALSE)
histogram(bb2, ylim=c(0,0.2))
histogram(bb2, ylim=c(0,0.1))
histogram(bb2, ylim=c(0,0.005))
histogram(bb2, ylim=c(0,0.006))
df <- data.frame(id=c(NA,1,2,3,4,5,6,7,255), v=c(0,1,2,3,4,5,6,7,8))
bb2 <- subs(bb, df,subswithNA=FALSE)
plot(bb2)
summary(bc)
extent (bs)
bc <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_canopy.asc")
bc<-raster (bc)
plot(bc)
bb <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_basal.asc")
bb<-raster (bb)
plot(bb)
bs <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_severity.asc")
bs<-raster (bs)
plot(bs)
topo <- readGDAL("C:/Users/usuario/Bats_California/layers/plumastopo.asc")
topo<-raster (topo)
plot(topo)
Vegetation_existing <- readGDAL("C:/Users/usuario/Bats_California/layers/Vegetation_existing.asc")
Vegetation_existing<-raster (Vegetation_existing)
plot(Vegetation_existing)
FireReturnIntervalDeparture <- readGDAL("C:/Users/usuario/Bats_California/layers/FireReturnIntervalDeparture.asc")
FireReturnIntervalDeparture<-raster (FireReturnIntervalDeparture)
plot(FireReturnIntervalDeparture)
TreatmentsStorrie <- readGDAL("C:/Users/usuario/Bats_California/layers/TreatmentsStorrie.asc")
TreatmentsStorrie<-raster (TreatmentsStorrie)
plot(TreatmentsStorrie)
library("raster", lib.loc="~/R/win-library/3.2")
library("rasterVis", lib.loc="~/R/win-library/3.2")
library("maps", lib.loc="~/R/win-library/3.2")
library("maptools", lib.loc="~/R/win-library/3.2")
library("rgdal", lib.loc="~/R/win-library/3.2")
bc <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_canopy.asc")
bc<-raster (bc)
plot(bc)
bb <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_basal.asc")
bb<-raster (bb)
plot(bb)
bs <- readGDAL("C:/Users/usuario/Bats_California/layers/burn_severity.asc")
bs<-raster (bs)
plot(bs)
topo <- readGDAL("C:/Users/usuario/Bats_California/layers/plumastopo.asc")
topo<-raster (topo)
plot(topo)
Vegetation_existing <- readGDAL("C:/Users/usuario/Bats_California/layers/Vegetation_existing.asc")
Vegetation_existing<-raster (Vegetation_existing)
plot(Vegetation_existing)
FireReturnIntervalDeparture <- readGDAL("C:/Users/usuario/Bats_California/layers/FireReturnIntervalDeparture.asc")
FireReturnIntervalDeparture<-raster (FireReturnIntervalDeparture)
plot(FireReturnIntervalDeparture)
TreatmentsStorrie <- readGDAL("C:/Users/usuario/Bats_California/layers/TreatmentsStorrie.asc")
TreatmentsStorrie<-raster (TreatmentsStorrie)
plot(TreatmentsStorrie)
plot(Vegetation_existing)
plot(bc, add=TRUE)
plot(Vegetation_existing)
plot(FireReturnIntervalDeparture, add=TRUE)
df.bb <- data.frame(id=c(NA,1,2,3,4,5,6,7,255), v=c(0,1,2,3,4,5,6,7,8))
bb <- subs(bb, df.bb,subswithNA=FALSE)
df.bs <- data.frame(id=c(NA,1,2,3,4,255), v=c(0,1,2,3,4,5))
bs <- subs(bs, df.bs,subswithNA=FALSE)
df.bc <- data.frame(id=c(NA,1,2,3,4,5,255), v=c(0,1,2,3,4,5,6))
bc <- subs(bc, df.bc,subswithNA=FALSE)
plot(bc, add=TRUE)
plot(bc)
plot(FireReturnIntervalDeparture, add=TRUE)
extent(bc)
extent(FireReturnIntervalDeparture)
extent(Vegetation_existent)
extent(Vegetation_existing)
extent(FireReturnIntervalDeparture)
?resample
bc2<-projectRaster(bc, FireReturnIntervalDeparture)
plot(FireReturnIntervalDeparture)
plot(bc2,add=TRUE)
plot(FireReturnIntervalDeparture,add=TRUE)
Vegetation_existing<-projectRaster(Vegetation_existing, PNF)
df.bb <- data.frame(id=c(NA,1,2,3,4,5,6,7,255), v=c(0,1,2,3,4,5,6,7,8))
bb <- subs(bb, df.bb,subswithNA=FALSE)
df.bs <- data.frame(id=c(NA,1,2,3,4,255), v=c(0,1,2,3,4,5))
bs <- subs(bs, df.bs,subswithNA=FALSE)
df.bc <- data.frame(id=c(NA,1,2,3,4,5,255), v=c(0,1,2,3,4,5,6))
bc <- subs(bc, df.bc,subswithNA=FALSE)
bc<-projectRaster(bc, PNF)
bb<-projectRaster(bb, PNF)
bs<-projectRaster(bs, PNF)
Vegetation_existing<-projectRaster(Vegetation_existing, PNF)
FireReturnIntervalDeparture<-projectRaster(FireReturnIntervalDeparture, PNF)
TreatmentsStorrie<-projectRaster(TreatmentsStorrie, PNF)
PNF<- readGDAL("C:/Users/usuario/Bats_California/layers/PNF.asc")
PNF<-raster (PNF)
plot(PNF)
bc<-projectRaster(bc, PNF)
bb<-projectRaster(bb, PNF)
bs<-projectRaster(bs, PNF)
Vegetation_existing<-projectRaster(Vegetation_existing, PNF)
FireReturnIntervalDeparture<-projectRaster(FireReturnIntervalDeparture, PNF)
TreatmentsStorrie<-projectRaster(TreatmentsStorrie, PNF)
bc<-resample(bc, PNF)
bb<-resample(bb, PNF)
bs<-resample(bs, PNF)
Vegetation_existing<-resample(Vegetation_existing, PNF)
FireReturnIntervalDeparture<-resample(FireReturnIntervalDeparture, PNF)
TreatmentsStorrie<-resample(TreatmentsStorrie, PNF)
rasters <-brick(bc, bs, bb, Vegetation_existing, FireReturnInterlvalDeparture,TreatmentsStorrie)
rasters <-brick(bc, bs, bb, Vegetation_existing, FireReturnIntervalDeparture,TreatmentsStorrie)
plot (rasters)
layerStats(rasters), "pearson",na.rm=TRUE)
layerStats(rasters), "pearson",na.rm=TRUE)
topo<-resample(topo,PNF)
bc<-resample(bc, PNF)
bb<-resample(bb, PNF)
bs<-resample(bs, PNF)
Vegetation_existing<-resample(Vegetation_existing, PNF)
FireReturnIntervalDeparture<-resample(FireReturnIntervalDeparture, PNF)
TreatmentsStorrie<-resample(TreatmentsStorrie, PNF)
topo<-resample(topo,PNF)
rasters <-brick(bc, bs, bb, Vegetation_existing, FireReturnIntervalDeparture, topo)
plot (rasters)
layerStats(rasters), "pearson",na.rm=TRUE)
rasters
rasters <-brick(bc, bs, bb, FireReturnIntervalDeparture, topo)
plot (rasters)
layerStats(rasters), "pearson",na.rm=TRUE)
rasters <-brick(bc, bs, bb)
plot (rasters)
layerStats(rasters), "pearson",na.rm=TRUE)
bc
rasters <-brick(bc, bs, bb)
plot (rasters)
layerStats(rasters), "pearson",na.rm=TRUE)
pairs (rasters)
rasters <-brick(bc, bs, bb, topo)
pairs (rasters)
summary(topo)
plot (topo)
plot (TreatmentStorrie)
plot (bs)
summary (bs)
plot (bs)
?plot
plot (bs, colNA="black")
plot (topo, colNA="black")
plot (TreatmentStorrie, colNA="black")
plot (TreatmentsStorrie, colNA="black")
burn <- stack(bc1, bs1, bb1)
pairs (burn)
AllLayers <-stack(bc, bs, bb, topo,TreatmentsStorrie,FireReturnIntervalDeparture, Vegetation_existing)
plot (AllLayers, colNA="black")
pairs(AllLayers)
AllLayers[is.na(AllLayers)] <- 0
plot(AllLayers)
valuetable2 <- getValues(AllLayers)
head(valuetable2)
km <- kmeans(na.omit(valuetable2), centers = 5, iter.max = 100, nstart = 10)
# create a blank raster with default values of 0
rNA <- setValues(raster(AllLayers), 0)
for(i in 1:nlayers(AllLayers)){
rNA[is.na(AllLayers[[i]])] <- 1
}
# convert rNA to an integer vector
rNA <- getValues(rNA)
# convert valuetable to a data.frame
valuetable2 <- as.data.frame(valuetable2)
# if rNA is a 0, assign the cluster value at that position
valuetable2$class[rNA==0] <- km$cluster
# if rNA is a 1, assign an NA at that position
valuetable2$class[rNA==1] <- NA
# create a blank raster
classes <- raster(AllLayers)
# assign values from the 'class' column of valuetable
classes2 <- setValues(classes, valuetable2$class)
plot(classes2, legend=TRUE,col=c("dark green", "orange", "light blue", "red", "yellow"))
summary (classes2)
df.class.4 <- data.frame(id=c(1,2,3,4,5), v=c(NA,NA,NA,NA,4,NA))
?extract
install.packages("plan")
